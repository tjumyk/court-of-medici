/* 
Native FullScreen JavaScript API
CopyRight: Johndyer, http://johndyer.name/native-fullscreen-javascript-api-plus-jquery-plugin/

Modified by tjumyk for fullscreen event listening.
-------------
Assumes Mozilla naming conventions instead of W3C for now
*/
(function(){var a={supportsFullScreen:false,isFullScreen:function(){return false},requestFullScreen:function(){},cancelFullScreen:function(){},fullscreenchange:function(){},fullScreenEventName:"",prefix:""},b="webkit moz o ms khtml".split(" ");if(typeof document.cancelFullScreen!="undefined"){a.supportsFullScreen=true}else{for(var c=0,d=b.length;c<d;c++){a.prefix=b[c];if(typeof document[a.prefix+"CancelFullScreen"]!="undefined"){a.supportsFullScreen=true;break}}}if(a.supportsFullScreen){a.fullScreenEventName=a.prefix+"fullscreenchange";a.isFullScreen=function(){switch(this.prefix){case"":return document.fullScreen;case"webkit":return document.webkitIsFullScreen;default:return document[this.prefix+"FullScreen"]}};a.requestFullScreen=function(a){return this.prefix===""?a.requestFullScreen():a[this.prefix+"RequestFullScreen"]()};a.cancelFullScreen=function(a){return this.prefix===""?document.cancelFullScreen():document[this.prefix+"CancelFullScreen"]()};a.fullscreenchange=function(a,b){a.addEventListener(this.fullScreenEventName,b,true)}}if(typeof jQuery!="undefined"){jQuery.fn.requestFullScreen=function(){return this.each(function(){if(a.supportsFullScreen){a.requestFullScreen(this)}})};jQuery.fn.fullscreenchange=function(b){this.each(function(){if(a.supportsFullScreen){a.fullscreenchange(this,b)}})}}window.fullScreenApi=a})()